<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>incognito</title>
        <link rel="stylesheet" href="assets/css/style.css">
    </head>

    <script src="https://www.gstatic.com/firebasejs/4.6.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.0/firebase.js"></script>
    
    <script type="text/javascript">
    // Initialize Firebase
      var config = {
        apiKey: "AIzaSyB5iww-loz_Evzv1Z-kSbOCyuhnIz1I-Ng",
        authDomain: "incognito-f9e47.firebaseapp.com",
        databaseURL: "https://incognito-f9e47.firebaseio.com",
        projectId: "incognito-f9e47",
        storageBucket: "incognito-f9e47.appspot.com",
        messagingSenderId: "516741037588"
      };
      firebase.initializeApp(config);







    // FirebaseUI config.
    var provider = new firebase.auth.GoogleAuthProvider();
    var uiConfig = {
        signInSuccessUrl: 'index.html',
        signInFlow: "popup",
        signInOptions: [
            // Leave the lines as is for the providers you want to offer your users.
            firebase.auth.GoogleAuthProvider.PROVIDER_ID,
            firebase.auth.EmailAuthProvider.PROVIDER_ID
        ],
        // Terms of service url.
        tosUrl: '<your-tos-url>'
    };
    // Initialize the FirebaseUI Widget using Firebase.
    var ui = new firebaseui.auth.AuthUI(firebase.auth());
    // The start method will wait until the DOM is loaded.
    ui.start('#firebaseui-auth-container', uiConfig);






    // User authentication change 
    firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
            // User is signed in.
            var email = user.email;
            $("#accountdetails").text(email);
            $("#signinstatuscontainer").show();
            $("#signInButton").hide();
            $("#signout").show();

        } else {
            // redirects to login
            // window.location = "index.html";
            return;
        }
    });
    // logouts the user
    $("#signout").on("click", function() {
        firebase.auth().signOut();
        $("#signInButton").show();
        $("#signinstatus").hide();
        $("#signout").hide();
    })
    </script>

</html>